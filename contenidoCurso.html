<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="estilo/contenidoCurso.css" rel="stylesheet" type="text/css"/>
       
        <!--SCRIPT EDGAR-->
         <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>        
       
        <script type="text/javascript" src="js/funciones/CrudBase.js"></script>
        <script type="text/javascript" src="js/funciones/formatos.js"></script>
        <script type="text/javascript" src="js/funciones/peticiones_ajax.js"></script>
        <script type="text/javascript" src="js/funciones/storage.js"></script>
        <script type="text/javascript" src="js/funciones/utilidades.js"></script>
        <script type="text/javascript" src="js/prototipos/prototipos.js"></script>
        <script type="text/javascript" src="js/globales.js"></script>
        <script type="text/javascript" src="js/alumnos/contenido_curso.js"></script>       
        <script type="text/javascript" src="js/alumnos/load_contenido_curso.js"></script>
        <script type="text/javascript" src="js/evaluaciones/responder_examen_contenido_curso.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery.fancytree/2.24.0/jquery.fancytree-all-deps.min.js"></script>
        
        <!-- Include Fancytree skin and library -->
          <link href="https://cdnjs.cloudflare.com/ajax/libs/jquery.fancytree/2.24.0/skin-win8-n/ui.fancytree.css" rel="stylesheet">
          
          <!-- Initialize the tree when page is loaded -->
          <script type="text/javascript">
            $(function(){
                /*[
                        {title: "prueba me este", key: "1",valor:"x1",tipo:"documento",recurso:"prueba1.docx"},
                        {title: "modulo 1", key: "2", folder: true, children: [
                          {title: "prueba", key: "3",valor:"x2",tipo:"examen",recurso:"prueba.pdf"},
                          {title: "prueba2", key: "4",valor:"x3",tipo:"video",recurso:"yRMvAN_H4Yc"},
                        
                        ]},
                        {title: "modulo 2", key: "2", folder: true, children: [
                          {title: "prueba", key: "3",valor:"x2",tipo:"examen",recurso:"prueba.pdf"},
                          {title: "prueba2", key: "4",valor:"x3",tipo:"video",recurso:"yRMvAN_H4Yc"},
                        
                        ]}
                      ]*/;

              // Create the tree inside the <div id="tree"> element.
              $("#arbol").fancytree({
                activate: function(event, data){
                  // A node was activated: display its title:

                  var node = data.node;
                  
                  if(node.data.tipo=="video"){
                    document.getElementById("ifYoutube").style.display="";
                    document.getElementById("ifYoutube").src="https://www.youtube.com/embed/"+node.data.recurso;
                    document.getElementById("ifDocu").style.display="none";
                  }else if (node.data.tipo=="documento") {
                    document.getElementById("ifYoutube").style.display="none";
                    document.getElementById("ifDocu").style.display="";
                    document.getElementById("ifDocu").src="archivos/"+node.data.recurso;  
                  }else if(node.data.tipo=="evaluacion"){
                    document.getElementById("ifYoutube").style.display="none";
                    document.getElementById("ifDocu").style.display="none";
                    if(node.data.valor!=undefined){
                      consultar_examen(node.data.valor);
                    }
                  }else if(node.data.tipo=="evento"){
                    document.getElementById("ifYoutube").style.display="none";
                    document.getElementById("ifDocu").style.display="none";
                  }
                  //node.icon = "iconos_arbol/descarga1.jpg";
                },
                beforeSelect: function(event, data){
                  // A node is about to be selected: prevent this, for folder-nodes:
                  if( data.node.isFolder() ){
                    return false;
                  }
                },
                source: {
                  url:globales._URL+"modulos_del_cursos/"+recibirValorGet(),
                  cache:false,

                },
                icon: function(event, data) {
                  if( data.node.isFolder() ) {
                    //return "custom1";
                  }else{
                    return "custom1";
                  }
                  // Otherwise no value is returned, so continue with default processing
                }
                
               

               });
            });
          </script>
          <style type="text/css">
              .iframe{
                width: 100%;
                height:100%;
              }

          </style>
          <style type="text/css">
              span.fancytree-node.custom1 > span.fancytree-icon {
                background-position: 0 0;
                background-image: url("iconos_arbol/tierra.png");*/
              }
              span.fancytree-node.custom1 > span.fancytree-title {
                color: maroon;
                font-family: "Audiowide";
              }
          </style>
    </head>
    <body>

        <ul class="menuVistaAl">
            <li>
                <a href="alumno.html"><h4>HYPATIA</h4></a>
            </li>   
            
            <li id="liSalir">
                <img>
                <h4>Salir</h4>                
            </li>
            <li>
                <a><img></a>
                <a><h4 id="h4NombreUsuario">Nombre del usuario loqueado</h4></a>
            </li>
            <li>
                <a href="alumno.html"><img></a>
                <a href="alumno.html"><h4>Mis Cursos</h4></a>
            </li>   

        </ul>
        <div class="contenidoCurso" id="arbol">
            
        </div>
        <div class="vistaContenidoCurso">
             <iframe class="iframe"  id="ifDocu"></iframe>
            <iframe id="ifYoutube" class="iframe" frameborder="0" allowfullscreen></iframe>     
            <div id="divExamen"></div>
        </div>
       
    </body>
</html>
